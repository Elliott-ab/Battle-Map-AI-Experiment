.cover-block-highlight{box-shadow:0 0 8px 2px #ffeb3b80!important;border:2px solid #FFEB3B!important;background:#ffeb3b26!important;border-radius:6px!important;z-index:100!important}.cover-block-highlight{box-shadow:0 0 0 3px #ffeb3b;border:2px solid #FFEB3B;border-radius:4px;z-index:10}.movement-highlight{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#2196f380;box-shadow:0 0 10px 5px #2196f380;border:1px solid rgba(33,150,243,1);border-radius:4px;pointer-events:none;z-index:5}.movement-highlight.enemy{background-color:#f4433680;box-shadow:0 0 10px 5px #f4433680;border:1px solid rgba(244,67,54,1)}.grid-cell{position:relative}.element-stats{margin:.5rem 0;display:flex;flex-direction:column;gap:.25rem}.hp-display{font-size:.85rem;font-weight:600;padding:.25rem .5rem;border-radius:3px;display:inline-block}.hp-display.healthy{color:#4caf50;background-color:#4caf5033}.hp-display.bloodied{color:#ff9800;background-color:#ff980033}.hp-display.critical{color:#f44336;background-color:#f4433633}.hp-display.unconscious{color:#9e9e9e;background-color:#9e9e9e33;text-decoration:line-through}.stealth-tag{font-size:.75rem;font-weight:600;color:#9c27b0;background-color:#9c27b033;padding:.2rem .4rem;border-radius:3px;text-transform:uppercase;letter-spacing:.5px}.stealth-item{border-left:3px solid #9C27B0;background-color:#9c27b01a}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#1a1a1a;color:#fff;height:100vh;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:manipulation}.app-container{display:flex;flex-direction:column;height:100vh}.toolbar{background-color:#2c2c2c;padding:1rem;border-bottom:1px solid #444;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 4px #0000004d;flex-shrink:0}.toolbar h1{font-size:1.5rem;color:#fff}.controls{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.grid-info{font-size:.9rem;color:#ccc;white-space:nowrap}.btn{padding:.75rem 1rem;border:none;border-radius:6px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .2s ease;touch-action:manipulation;min-height:44px;white-space:nowrap}.btn:active{transform:translateY(1px)}.controls .btn:disabled{opacity:.5;cursor:not-allowed;background-color:#ccc}.btn-primary{background-color:#4caf50;color:#fff}.btn-primary:hover{background-color:#45a049}.btn-secondary{background-color:#2196f3;color:#fff}.btn-secondary:hover{background-color:#1976d2}.btn-tertiary{background-color:#ff9800;color:#fff}.btn-tertiary:hover{background-color:#f57c00}.btn-cover{background-color:#795548;color:#fff}.btn-cover:hover{background-color:#5d4037}.btn-danger{background-color:#f44336;color:#fff}.btn-danger:hover{background-color:#d32f2f}.main-content{display:flex;flex:1;overflow:hidden}.sidebar{width:280px;background-color:#2c2c2c;border-right:1px solid #444;padding:1rem;overflow-y:auto;flex-shrink:0}.sidebar h3{margin-bottom:1rem;color:#fff;font-size:1.2rem}.element-list{display:flex;flex-direction:column;gap:.75rem}.element-item{background-color:#383838;border:2px solid #555;border-radius:6px;padding:.75rem;cursor:pointer;transition:all .2s ease;touch-action:manipulation}.element-item:hover,.element-item:active{background-color:#444;border-color:#666;transform:translate(2px)}.element-info{display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}.element-color{width:20px;height:20px;border-radius:50%;border:2px solid #fff;flex-shrink:0}.element-symbol{border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:14px;background-color:#795548;color:#fff;border-color:#5d4037}.element-name{font-weight:600;color:#fff}.element-type{font-size:.8rem;color:#ccc}.element-size{font-size:.8rem;color:#ff9800;font-weight:500}.element-position{font-size:.8rem;color:#aaa}.map-container{flex:1;padding:1rem;overflow:auto;background-color:#1a1a1a;background-image:radial-gradient(circle at 1px 1px,rgba(255,255,255,.15) 1px,transparent 0);background-size:20px 20px;touch-action:pan-x pan-y;position:relative;display:inline-block}.battle-map{display:grid;gap:1px;background-color:#333;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0000004d;margin:auto;width:fit-content;min-width:min-content}.grid-cell{width:40px;height:40px;background-color:#4a4a4a;border:1px solid #666;position:relative;transition:background-color .2s ease;display:flex;align-items:center;justify-content:center;touch-action:manipulation}.grid-cell:hover{background-color:#555}.grid-cell:nth-child(5n){border-right:2px solid #888}.grid-cell:nth-child(n):nth-child(-n+20){border-top:2px solid #888}.grid-cell:nth-child(5n+1){border-left:2px solid #888}.grid-cell.bold-top{border-top:2px solid #888}.element{width:calc(100% - 2px);height:calc(100% - 2px);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px;color:#fff;text-shadow:1px 1px 1px rgba(0,0,0,.7);border:2px solid #fff;cursor:move;transition:all .2s ease;box-shadow:0 2px 4px #0000004d;z-index:10;position:relative;touch-action:none}.element:hover,.element:active{transform:scale(1.05);box-shadow:0 4px 8px #00000080}.element.selected{border-color:#ffeb3b;box-shadow:0 0 10px #ffeb3b;animation:pulse 1s infinite}.element.player{border-radius:50%;border-color:#4caf50}.element.enemy{border-radius:50%;border-color:#f44336}.element.cover{border-radius:4px;border-color:#795548;background-color:#795548!important}.element.cover.half{background:linear-gradient(135deg,#795548 50%,transparent 50%)!important}.element.cover.three-quarters{background:linear-gradient(135deg,#795548 75%,transparent 75%)!important}.element.cover.full{background-color:#5d4037!important}.element.cover.difficult{background:repeating-linear-gradient(45deg,#795548,#795548 10px,#5d4037 10px 20px)!important}.grid-wrapper{display:flex;flex-direction:column;gap:0}.row-and-grid{display:flex;gap:0}@keyframes pulse{0%,to{transform:scale(1.05);opacity:1}50%{transform:scale(1.1);opacity:.8}}.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background-color:#000000b3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.modal-content{background-color:#2c2c2c;margin:10% auto;padding:2rem;border:1px solid #555;border-radius:8px;width:400px;max-width:90%;box-shadow:0 8px 16px #00000080;max-height:80vh;overflow-y:auto}.close{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer;line-height:1;touch-action:manipulation;min-width:44px;min-height:44px;display:flex;align-items:center;justify-content:center}.close:hover,.close:focus,.close:active{color:#fff}.modal-content h3{margin-bottom:1.5rem;color:#fff;margin-top:.5rem}.form-group{margin-bottom:1.5rem}.form-group label{display:block;margin-bottom:.5rem;color:#fff;font-weight:500}.form-group input,.form-group select{width:100%;padding:.75rem;border:2px solid #555;border-radius:4px;background-color:#383838;color:#fff;font-size:1rem;min-height:44px;touch-action:manipulation}.form-group input:focus,.form-group select:focus{outline:none;border-color:#4caf50;box-shadow:0 0 5px #4caf504d}.form-actions{display:flex;gap:.75rem;justify-content:flex-end;margin-top:2rem;flex-wrap:wrap}.custom-cover{width:100%;height:100%;box-sizing:border-box;border:1px solid #5d4037;background-color:#795548b3}.drawing-cover-highlight{width:100%;height:100%;box-sizing:border-box;background-color:#ff000080;border:1px dashed #fff;pointer-events:none;z-index:5}.cover-highlight{outline:2px solid #FFD700;z-index:10;position:relative}.element.cover.custom-cover{opacity:.6;border:1px dashed #333;text-align:center;line-height:1}@media (max-width: 1024px) and (orientation: landscape){.sidebar{width:220px}.grid-cell{width:35px;height:35px}.element{font-size:12px}.toolbar h1{font-size:1.3rem}.btn{padding:.6rem .8rem;font-size:.85rem}}@media (max-width: 1024px) and (orientation: portrait){.main-content{flex-direction:column}.sidebar{width:100%;height:200px;border-right:none;border-bottom:1px solid #444}.element-list{flex-direction:row;overflow-x:auto;gap:.5rem;padding-bottom:.5rem}.element-item{min-width:150px;flex-shrink:0}.grid-cell{width:35px;height:35px}.toolbar{padding:.75rem}.toolbar h1{font-size:1.3rem}.controls{gap:.3rem}.btn{padding:.6rem .8rem;font-size:.8rem}}@media (max-width: 768px){.toolbar{flex-direction:column;gap:.75rem;padding:.75rem}.controls{justify-content:center;flex-wrap:wrap;gap:.5rem}.grid-cell{width:30px;height:30px}.element{font-size:11px}.sidebar{height:180px;padding:.75rem}.modal-content{margin:5% auto;width:95%;padding:1.5rem}.form-actions{flex-direction:column}.form-actions .btn{width:100%}}@media (max-width: 480px){.toolbar h1{font-size:1.1rem}.btn{padding:.5rem .6rem;font-size:.75rem;min-height:40px}.grid-cell{width:25px;height:25px}.element{font-size:10px}.sidebar{height:150px;padding:.5rem}.element-item{min-width:120px;padding:.5rem}.element-info{gap:.5rem}.element-color{width:16px;height:16px}.modal-content{padding:1rem}.form-group{margin-bottom:1rem}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.grid-cell{border-width:.5px}.element{border-width:1px}}@media (prefers-reduced-motion: reduce){.element,.btn,.element-item,.grid-cell{transition:none}.element.selected{animation:none;box-shadow:0 0 0 3px #ffeb3b}}.btn:focus-visible,.element-item:focus-visible,.grid-cell:focus-visible{outline:2px solid #4CAF50;outline-offset:2px}.sidebar::-webkit-scrollbar,.map-container::-webkit-scrollbar,.modal-content::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track,.map-container::-webkit-scrollbar-track,.modal-content::-webkit-scrollbar-track{background:#2c2c2c}.sidebar::-webkit-scrollbar-thumb,.map-container::-webkit-scrollbar-thumb,.modal-content::-webkit-scrollbar-thumb{background:#555;border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover,.map-container::-webkit-scrollbar-thumb:hover,.modal-content::-webkit-scrollbar-thumb:hover{background:#666}.btn:active,.element-item:active,.element:active{opacity:.8}.element,.btn,.element-item,.grid-cell{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
